<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Serial Wombat 18AB Firmware: TM1637.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="red&whitetorso.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Serial Wombat 18AB Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_76585f90922fbf82f2aa1a9aef79586a.html">SerialWombat18A_18B.X</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">TM1637.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="serial_wombat_8h_source.html">serialWombat.h</a>&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ascii_conversion_8h_source.html">asciiConversion.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtm1637__n.html">tm1637_n</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a75cb54bcebb299263826f33304ad9265"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a75cb54bcebb299263826f33304ad9265">SEG_A</a>&#160;&#160;&#160;0x1</td></tr>
<tr class="separator:a75cb54bcebb299263826f33304ad9265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62bb65e0fd3cae8fe6bb8ca3f45b8d42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a62bb65e0fd3cae8fe6bb8ca3f45b8d42">SEG_B</a>&#160;&#160;&#160;0x2</td></tr>
<tr class="separator:a62bb65e0fd3cae8fe6bb8ca3f45b8d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41810fa14a326fc41468571948dc09c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a41810fa14a326fc41468571948dc09c4">SEG_C</a>&#160;&#160;&#160;0x4</td></tr>
<tr class="separator:a41810fa14a326fc41468571948dc09c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab408360fd13aeefc34520d9464407419"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#ab408360fd13aeefc34520d9464407419">SEG_D</a>&#160;&#160;&#160;0x8</td></tr>
<tr class="separator:ab408360fd13aeefc34520d9464407419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af88257e7e5371478adfbb6d72366d7a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#af88257e7e5371478adfbb6d72366d7a1">SEG_E</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:af88257e7e5371478adfbb6d72366d7a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a3e102716f360738446e1e3e5edd762"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a2a3e102716f360738446e1e3e5edd762">SEG_F</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="separator:a2a3e102716f360738446e1e3e5edd762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf85b76890259838df0ca7462c415848"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#abf85b76890259838df0ca7462c415848">SEG_G</a>&#160;&#160;&#160;0x40</td></tr>
<tr class="separator:abf85b76890259838df0ca7462c415848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad38f33e0967ff55f4f3cae4a1e598ad6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#ad38f33e0967ff55f4f3cae4a1e598ad6">SEG_POINT</a>&#160;&#160;&#160;0x80</td></tr>
<tr class="separator:ad38f33e0967ff55f4f3cae4a1e598ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80714ee76f0094210e51a5cb192ca5e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a80714ee76f0094210e51a5cb192ca5e0">OFF__</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a80714ee76f0094210e51a5cb192ca5e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77837f65ca3ad4cdcb76030475d8d5ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a77837f65ca3ad4cdcb76030475d8d5ed">INV__</a>&#160;&#160;&#160;<a class="el" href="_t_m1637_8c.html#af88257e7e5371478adfbb6d72366d7a1">SEG_E</a></td></tr>
<tr class="separator:a77837f65ca3ad4cdcb76030475d8d5ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c1696830d2b0e95d162bf60ca35deda"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a5c1696830d2b0e95d162bf60ca35deda">tm1637</a>&#160;&#160;&#160;((<a class="el" href="_t_m1637_8c.html#aa4d8d765c34cc75b16017c98a5be587e">tm1637_t</a>*) <a class="el" href="pin_registers_8h.html#a746aa3c2d8a5e19351392e2aa0e1f8d0">CurrentPinRegister</a>)</td></tr>
<tr class="separator:a5c1696830d2b0e95d162bf60ca35deda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe3eeb73ddbb366d0de5776792a05860"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#afe3eeb73ddbb366d0de5776792a05860">DIO_LOW</a>()&#160;&#160;&#160;{<a class="el" href="serial_wombat_8h.html#aff77be586e4e93183b680d801f02fbb6">PinLow</a>(<a class="el" href="_t_m1637_8c.html#a5c1696830d2b0e95d162bf60ca35deda">tm1637</a>-&gt;dioPin);}</td></tr>
<tr class="separator:afe3eeb73ddbb366d0de5776792a05860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f357bf2ea4f8e25c980bf226818f5cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a9f357bf2ea4f8e25c980bf226818f5cc">DIO_HIGH</a>()&#160;&#160;&#160;{<a class="el" href="serial_wombat_8h.html#a4141cb63d61ee48ee79630974e744804">PinHigh</a>(<a class="el" href="_t_m1637_8c.html#a5c1696830d2b0e95d162bf60ca35deda">tm1637</a>-&gt;dioPin);}</td></tr>
<tr class="separator:a9f357bf2ea4f8e25c980bf226818f5cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c5966ace7d36e0cf765f8fdd0a0b39"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a58c5966ace7d36e0cf765f8fdd0a0b39">CLK_LOW</a>()&#160;&#160;&#160;{  <a class="el" href="serial_wombat_8h.html#a2cbaf411931fb9450528471b575815d4">CurrentPinLow</a>();}</td></tr>
<tr class="separator:a58c5966ace7d36e0cf765f8fdd0a0b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e20f703b5435f2ee5e04881c44a4bcf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a1e20f703b5435f2ee5e04881c44a4bcf">CLK_HIGH</a>()&#160;&#160;&#160;{     <a class="el" href="serial_wombat_8h.html#a22286dddb9a45fa58fb7d123048e3ebf">CurrentPinHigh</a>();}</td></tr>
<tr class="separator:a1e20f703b5435f2ee5e04881c44a4bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac166518fed8218cb970353bc77d68a9b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#ac166518fed8218cb970353bc77d68a9b">SET_DIO</a>(_value)&#160;&#160;&#160;{    <a class="el" href="serial_wombat_8h.html#a06853f69b7a37d93fff459d96382f948">SetPin</a>(<a class="el" href="_t_m1637_8c.html#a5c1696830d2b0e95d162bf60ca35deda">tm1637</a>-&gt;dioPin, _value);}</td></tr>
<tr class="separator:ac166518fed8218cb970353bc77d68a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c1696830d2b0e95d162bf60ca35deda"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a5c1696830d2b0e95d162bf60ca35deda">tm1637</a>&#160;&#160;&#160;((<a class="el" href="_t_m1637_8c.html#aa4d8d765c34cc75b16017c98a5be587e">tm1637_t</a>*) <a class="el" href="pin_registers_8h.html#a746aa3c2d8a5e19351392e2aa0e1f8d0">CurrentPinRegister</a>)</td></tr>
<tr class="separator:a5c1696830d2b0e95d162bf60ca35deda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c6d1c5d452172110613c071829da0ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a8c6d1c5d452172110613c071829da0ce">tm1637SendMemoryWrite</a>()&#160;&#160;&#160;{	<a class="el" href="_t_m1637_8c.html#a1092723aeececca6a22760db8a84b554">tm1637ClockByte</a>(0x40);  /*Write data, Increment address, normal <a class="el" href="types_8h.html#a69645055f0fa7d64868d1e7519099e29">mode</a>*/}</td></tr>
<tr class="separator:a8c6d1c5d452172110613c071829da0ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa4d8d765c34cc75b16017c98a5be587e"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtm1637__n.html">tm1637_n</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#aa4d8d765c34cc75b16017c98a5be587e">tm1637_t</a></td></tr>
<tr class="separator:aa4d8d765c34cc75b16017c98a5be587e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a46e71a9c798efcd9034ea20cae78b395"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a46e71a9c798efcd9034ea20cae78b395">TM1637_MODE_t</a> { <br />
&#160;&#160;<a class="el" href="_t_m1637_8c.html#a46e71a9c798efcd9034ea20cae78b395a7e13de0e823378dc1fbfa8044e410f06">TM1637_MODE_BUFFER_DEC</a> = 0, 
<a class="el" href="_t_m1637_8c.html#a46e71a9c798efcd9034ea20cae78b395abcdb2a221e249cf65640c2601e7c92d1">TM1637_MODE_BUFFER_HEX</a> = 1, 
<a class="el" href="_t_m1637_8c.html#a46e71a9c798efcd9034ea20cae78b395a8866b2caaaaa907cce29336c373cea49">TM1637_MODE_STRING</a> = 2, 
<a class="el" href="_t_m1637_8c.html#a46e71a9c798efcd9034ea20cae78b395add6acef14ddd6ad423bd485f193fb4d0">TM1637_MODE_RAW</a> = 3, 
<br />
&#160;&#160;<a class="el" href="_t_m1637_8c.html#a46e71a9c798efcd9034ea20cae78b395ab24187b09cd6ff4922c5678cae8bea41">TM1637_MODE_ANIMATION</a> = 4
<br />
 }</td></tr>
<tr class="separator:a46e71a9c798efcd9034ea20cae78b395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed3278e64087f0397433d67e1ce8b91"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a3ed3278e64087f0397433d67e1ce8b91">TM1637_OUTPUT_STATE_t</a> { <br />
&#160;&#160;<a class="el" href="_t_m1637_8c.html#a3ed3278e64087f0397433d67e1ce8b91ac07495876903c43fa32a2f4fd5cc21e5">TM1637_OUTPUT_STATE_SETUP</a> = 0xF0, 
<a class="el" href="_t_m1637_8c.html#a3ed3278e64087f0397433d67e1ce8b91a72126e007000da3d00e64f5aff7ab3ce">TM1637_OUTPUT_STATE_SET_ADDR</a> = 0xF1, 
<a class="el" href="_t_m1637_8c.html#a3ed3278e64087f0397433d67e1ce8b91abe8c861b5292f332c28d36c7a4cca064">TM1637_OUTPUT_STATE_DISPLAY_CONTROL_COMMAND</a> = 0xF2, 
<a class="el" href="_t_m1637_8c.html#a3ed3278e64087f0397433d67e1ce8b91ac913192978ccd8dc3b054367b5cb9451">TM1637_OUTPUT_STATE_SKIP_DISPLAY_CONTROL</a> = 0xF3, 
<br />
&#160;&#160;<a class="el" href="_t_m1637_8c.html#a3ed3278e64087f0397433d67e1ce8b91af93c507bba72bacefb6bdefe67252b00">TM1637_OUTPUT_STATE_IDLE</a> = 0xF4
<br />
 }</td></tr>
<tr class="separator:a3ed3278e64087f0397433d67e1ce8b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a363789768c0ff185c0d791f0f7b49556"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a363789768c0ff185c0d791f0f7b49556">tm1637Start</a> ()</td></tr>
<tr class="separator:a363789768c0ff185c0d791f0f7b49556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e8449ecf922ae671e48939edf1de6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a64e8449ecf922ae671e48939edf1de6d">tm1637Stop</a> ()</td></tr>
<tr class="separator:a64e8449ecf922ae671e48939edf1de6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1092723aeececca6a22760db8a84b554"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a1092723aeececca6a22760db8a84b554">tm1637ClockByte</a> (uint8_t data)</td></tr>
<tr class="separator:a1092723aeececca6a22760db8a84b554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ab2421e29e8e4822403da00786be340"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a6ab2421e29e8e4822403da00786be340">tm1637_hwinit</a> ()</td></tr>
<tr class="separator:a6ab2421e29e8e4822403da00786be340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd70df2db09275c8ec0519ac7bbe632c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#acd70df2db09275c8ec0519ac7bbe632c">tm1637SendInitialAddress</a> ()</td></tr>
<tr class="separator:acd70df2db09275c8ec0519ac7bbe632c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8608df9859e2d3e6c6340ae8923e01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#aea8608df9859e2d3e6c6340ae8923e01">tm1637SendDisplayControlCommand</a> (uint8_t command)</td></tr>
<tr class="separator:aea8608df9859e2d3e6c6340ae8923e01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae381ccec4f8ef1f4aded040a4181ec1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#ae381ccec4f8ef1f4aded040a4181ec1f">initTM1637</a> (void)</td></tr>
<tr class="separator:ae381ccec4f8ef1f4aded040a4181ec1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57e2b72c59a8c0d24fa11c2189db7870"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a57e2b72c59a8c0d24fa11c2189db7870">tm1637UpdateRender</a> ()</td></tr>
<tr class="memdesc:a57e2b72c59a8c0d24fa11c2189db7870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a TM1637 bitmap in the displayArray.  <a href="_t_m1637_8c.html#a57e2b72c59a8c0d24fa11c2189db7870">More...</a><br /></td></tr>
<tr class="separator:a57e2b72c59a8c0d24fa11c2189db7870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf85cb9b831ee34d4f1aef9f1053f096"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#abf85cb9b831ee34d4f1aef9f1053f096">updateTM1637</a> ()</td></tr>
<tr class="memdesc:abf85cb9b831ee34d4f1aef9f1053f096"><td class="mdescLeft">&#160;</td><td class="mdescRight">update the TM1637 pin state machine  <a href="_t_m1637_8c.html#abf85cb9b831ee34d4f1aef9f1053f096">More...</a><br /></td></tr>
<tr class="separator:abf85cb9b831ee34d4f1aef9f1053f096"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1a66b328826a6d93dc39b95fa5ab7cfa"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#a1a66b328826a6d93dc39b95fa5ab7cfa">seven_seg_table</a> []</td></tr>
<tr class="separator:a1a66b328826a6d93dc39b95fa5ab7cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9442e692b4150d2bf3edf357342de9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_t_m1637_8c.html#aa4d8d765c34cc75b16017c98a5be587e">tm1637_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_m1637_8c.html#ab9442e692b4150d2bf3edf357342de9b">debugTM1637</a></td></tr>
<tr class="separator:ab9442e692b4150d2bf3edf357342de9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1e20f703b5435f2ee5e04881c44a4bcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e20f703b5435f2ee5e04881c44a4bcf">&#9670;&nbsp;</a></span>CLK_HIGH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLK_HIGH</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;{     <a class="el" href="serial_wombat_8h.html#a22286dddb9a45fa58fb7d123048e3ebf">CurrentPinHigh</a>();}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a58c5966ace7d36e0cf765f8fdd0a0b39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c5966ace7d36e0cf765f8fdd0a0b39">&#9670;&nbsp;</a></span>CLK_LOW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLK_LOW</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;{  <a class="el" href="serial_wombat_8h.html#a2cbaf411931fb9450528471b575815d4">CurrentPinLow</a>();}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9f357bf2ea4f8e25c980bf226818f5cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f357bf2ea4f8e25c980bf226818f5cc">&#9670;&nbsp;</a></span>DIO_HIGH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIO_HIGH</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;{<a class="el" href="serial_wombat_8h.html#a4141cb63d61ee48ee79630974e744804">PinHigh</a>(<a class="el" href="_t_m1637_8c.html#a5c1696830d2b0e95d162bf60ca35deda">tm1637</a>-&gt;dioPin);}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afe3eeb73ddbb366d0de5776792a05860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe3eeb73ddbb366d0de5776792a05860">&#9670;&nbsp;</a></span>DIO_LOW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIO_LOW</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;{<a class="el" href="serial_wombat_8h.html#aff77be586e4e93183b680d801f02fbb6">PinLow</a>(<a class="el" href="_t_m1637_8c.html#a5c1696830d2b0e95d162bf60ca35deda">tm1637</a>-&gt;dioPin);}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a77837f65ca3ad4cdcb76030475d8d5ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77837f65ca3ad4cdcb76030475d8d5ed">&#9670;&nbsp;</a></span>INV__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INV__&#160;&#160;&#160;<a class="el" href="_t_m1637_8c.html#af88257e7e5371478adfbb6d72366d7a1">SEG_E</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a80714ee76f0094210e51a5cb192ca5e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80714ee76f0094210e51a5cb192ca5e0">&#9670;&nbsp;</a></span>OFF__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFF__&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a75cb54bcebb299263826f33304ad9265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75cb54bcebb299263826f33304ad9265">&#9670;&nbsp;</a></span>SEG_A</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEG_A&#160;&#160;&#160;0x1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a62bb65e0fd3cae8fe6bb8ca3f45b8d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62bb65e0fd3cae8fe6bb8ca3f45b8d42">&#9670;&nbsp;</a></span>SEG_B</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEG_B&#160;&#160;&#160;0x2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a41810fa14a326fc41468571948dc09c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41810fa14a326fc41468571948dc09c4">&#9670;&nbsp;</a></span>SEG_C</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEG_C&#160;&#160;&#160;0x4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab408360fd13aeefc34520d9464407419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab408360fd13aeefc34520d9464407419">&#9670;&nbsp;</a></span>SEG_D</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEG_D&#160;&#160;&#160;0x8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af88257e7e5371478adfbb6d72366d7a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af88257e7e5371478adfbb6d72366d7a1">&#9670;&nbsp;</a></span>SEG_E</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEG_E&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2a3e102716f360738446e1e3e5edd762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a3e102716f360738446e1e3e5edd762">&#9670;&nbsp;</a></span>SEG_F</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEG_F&#160;&#160;&#160;0x20</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abf85b76890259838df0ca7462c415848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf85b76890259838df0ca7462c415848">&#9670;&nbsp;</a></span>SEG_G</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEG_G&#160;&#160;&#160;0x40</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad38f33e0967ff55f4f3cae4a1e598ad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad38f33e0967ff55f4f3cae4a1e598ad6">&#9670;&nbsp;</a></span>SEG_POINT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEG_POINT&#160;&#160;&#160;0x80</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac166518fed8218cb970353bc77d68a9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac166518fed8218cb970353bc77d68a9b">&#9670;&nbsp;</a></span>SET_DIO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_DIO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_value</td><td>)</td>
          <td>&#160;&#160;&#160;{    <a class="el" href="serial_wombat_8h.html#a06853f69b7a37d93fff459d96382f948">SetPin</a>(<a class="el" href="_t_m1637_8c.html#a5c1696830d2b0e95d162bf60ca35deda">tm1637</a>-&gt;dioPin, _value);}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5c1696830d2b0e95d162bf60ca35deda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c1696830d2b0e95d162bf60ca35deda">&#9670;&nbsp;</a></span>tm1637 <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tm1637&#160;&#160;&#160;((<a class="el" href="_t_m1637_8c.html#aa4d8d765c34cc75b16017c98a5be587e">tm1637_t</a>*) <a class="el" href="pin_registers_8h.html#a746aa3c2d8a5e19351392e2aa0e1f8d0">CurrentPinRegister</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5c1696830d2b0e95d162bf60ca35deda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c1696830d2b0e95d162bf60ca35deda">&#9670;&nbsp;</a></span>tm1637 <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tm1637&#160;&#160;&#160;((<a class="el" href="_t_m1637_8c.html#aa4d8d765c34cc75b16017c98a5be587e">tm1637_t</a>*) <a class="el" href="pin_registers_8h.html#a746aa3c2d8a5e19351392e2aa0e1f8d0">CurrentPinRegister</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8c6d1c5d452172110613c071829da0ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c6d1c5d452172110613c071829da0ce">&#9670;&nbsp;</a></span>tm1637SendMemoryWrite</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tm1637SendMemoryWrite</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;{	<a class="el" href="_t_m1637_8c.html#a1092723aeececca6a22760db8a84b554">tm1637ClockByte</a>(0x40);  /*Write data, Increment address, normal <a class="el" href="types_8h.html#a69645055f0fa7d64868d1e7519099e29">mode</a>*/}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aa4d8d765c34cc75b16017c98a5be587e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4d8d765c34cc75b16017c98a5be587e">&#9670;&nbsp;</a></span>tm1637_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtm1637__n.html">tm1637_n</a> <a class="el" href="_t_m1637_8c.html#aa4d8d765c34cc75b16017c98a5be587e">tm1637_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a46e71a9c798efcd9034ea20cae78b395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46e71a9c798efcd9034ea20cae78b395">&#9670;&nbsp;</a></span>TM1637_MODE_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_t_m1637_8c.html#a46e71a9c798efcd9034ea20cae78b395">TM1637_MODE_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a46e71a9c798efcd9034ea20cae78b395a7e13de0e823378dc1fbfa8044e410f06"></a>TM1637_MODE_BUFFER_DEC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a46e71a9c798efcd9034ea20cae78b395abcdb2a221e249cf65640c2601e7c92d1"></a>TM1637_MODE_BUFFER_HEX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a46e71a9c798efcd9034ea20cae78b395a8866b2caaaaa907cce29336c373cea49"></a>TM1637_MODE_STRING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a46e71a9c798efcd9034ea20cae78b395add6acef14ddd6ad423bd485f193fb4d0"></a>TM1637_MODE_RAW&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a46e71a9c798efcd9034ea20cae78b395ab24187b09cd6ff4922c5678cae8bea41"></a>TM1637_MODE_ANIMATION&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a3ed3278e64087f0397433d67e1ce8b91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ed3278e64087f0397433d67e1ce8b91">&#9670;&nbsp;</a></span>TM1637_OUTPUT_STATE_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_t_m1637_8c.html#a3ed3278e64087f0397433d67e1ce8b91">TM1637_OUTPUT_STATE_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3ed3278e64087f0397433d67e1ce8b91ac07495876903c43fa32a2f4fd5cc21e5"></a>TM1637_OUTPUT_STATE_SETUP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3ed3278e64087f0397433d67e1ce8b91a72126e007000da3d00e64f5aff7ab3ce"></a>TM1637_OUTPUT_STATE_SET_ADDR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3ed3278e64087f0397433d67e1ce8b91abe8c861b5292f332c28d36c7a4cca064"></a>TM1637_OUTPUT_STATE_DISPLAY_CONTROL_COMMAND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3ed3278e64087f0397433d67e1ce8b91ac913192978ccd8dc3b054367b5cb9451"></a>TM1637_OUTPUT_STATE_SKIP_DISPLAY_CONTROL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3ed3278e64087f0397433d67e1ce8b91af93c507bba72bacefb6bdefe67252b00"></a>TM1637_OUTPUT_STATE_IDLE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae381ccec4f8ef1f4aded040a4181ec1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae381ccec4f8ef1f4aded040a4181ec1f">&#9670;&nbsp;</a></span>initTM1637()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initTM1637 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">\brief Initialization routine for TM1637 Seven Segment 
</pre><hr  />
<h2><a class="anchor" id="autotoc_md74"></a>
CONFIGURE_CHANNEL_MODE_0:</h2>
<p>Initialize TM1637 Output</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">BYTE 0 </th><th class="markdownTableHeadLeft">BYTE 1 </th><th class="markdownTableHeadLeft">BYTE 2 </th><th class="markdownTableHeadLeft">BYTE 3 </th><th class="markdownTableHeadLeft">BYTE 4 </th><th class="markdownTableHeadLeft">BYTE 5 </th><th class="markdownTableHeadLeft">BYTE 6 </th><th class="markdownTableHeadLeft">BYTE 7  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0xC0 </td><td class="markdownTableBodyLeft">Pin To Set (TO TM1637 Clock) </td><td class="markdownTableBodyLeft">0x0A (TM1637 ) </td><td class="markdownTableBodyLeft">Second Pin (TO TM1637 Data) </td><td class="markdownTableBodyLeft">Digits </td><td class="markdownTableBodyLeft">Mode </td><td class="markdownTableBodyLeft">Public Data Source pin </td><td class="markdownTableBodyLeft">Brightness (0-7)  </td></tr>
</table>
<p>Modes:</p>
<ul>
<li>16 bit Decimal output from Pin Public Data = 0,</li>
<li>16 bit Hex output from Pin public Data = 1,</li>
<li>Char Array provided with 0xC4, 0xC5 commands = 2,</li>
<li>Raw 7 segment provided with 0xC4, 0xC5 commands = 3,</li>
<li>Animation = 4,</li>
</ul>
<p>Response:</p>
<p>Command is echoed back.</p>
<p>Examples:</p>
<p>Set pin 19 to TM1637 Clock, 18 to TM1637 Data, 4 digit display, Hex output of pin 19, Brightness 5</p>
<blockquote class="doxtable">
<p><code>0xC0 0x13 0x0A 0x12 0x04 0x02 0x13 0x05</code> </p>
</blockquote>
<hr  />
<h2><a class="anchor" id="autotoc_md76"></a>
CONFIGURE_CHANNEL_MODE_1:</h2>
<p>Change Display order of Digits 0-4. If "012345" is displayed on the display after the 0xC0 command is sent and the digits appear in the wrong order, then use this command and CONFIGURE_CHANNEL_MODE_2 to change the display order.</p>
<p>This command is also useful to map the bottom 4 digits of a 5 digit (16 bit) decimal display to the 4 digits of a 4-place display.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">BYTE 0 </th><th class="markdownTableHeadLeft">BYTE 1 </th><th class="markdownTableHeadLeft">BYTE 2 </th><th class="markdownTableHeadLeft">BYTE 3 </th><th class="markdownTableHeadLeft">BYTE 4 </th><th class="markdownTableHeadLeft">BYTE 5 </th><th class="markdownTableHeadLeft">BYTE 6 </th><th class="markdownTableHeadLeft">BYTE 7  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0xC1 </td><td class="markdownTableBodyLeft">Pin To Set (TO TM1637 Clock) </td><td class="markdownTableBodyLeft">0x0A (TM1637 ) </td><td class="markdownTableBodyLeft">Mapping for 0 digit </td><td class="markdownTableBodyLeft">Mapping for 1 digit </td><td class="markdownTableBodyLeft">Mapping for 2 digit </td><td class="markdownTableBodyLeft">Mapping for 3 digit </td><td class="markdownTableBodyLeft">Mapping for 4 digit  </td></tr>
</table>
<p>Response:</p>
<p>Command is echoed back.</p>
<p>Examples:</p>
<p>Upon displaying "012345" on a six digit display "210543" is displayed. This can be corrected by sending the commands:</p>
<blockquote class="doxtable">
<p><code>0xC1 0x13 0x0A 0x02 0x01 0x00 0x15 0x04</code> </p>
</blockquote>
<blockquote class="doxtable">
<p><code>0xC2 0x13 0x0A 0x03 0x55 0x55 0x55 0x55</code> </p>
</blockquote>
<hr  />
<h2><a class="anchor" id="autotoc_md78"></a>
CONFIGURE_CHANNEL_MODE_2:</h2>
<p>Change Display order of Digit 5. See CONFIGURE_CHANNEL_MODE_1</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">BYTE 0 </th><th class="markdownTableHeadLeft">BYTE 1 </th><th class="markdownTableHeadLeft">BYTE 2 </th><th class="markdownTableHeadLeft">BYTE 3 </th><th class="markdownTableHeadLeft">BYTE 4 </th><th class="markdownTableHeadLeft">BYTE 5 </th><th class="markdownTableHeadLeft">BYTE 6 </th><th class="markdownTableHeadLeft">BYTE 7  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0xC2 </td><td class="markdownTableBodyLeft">Pin To Set (TO TM1637 Clock) </td><td class="markdownTableBodyLeft">0x0A (TM1637 ) </td><td class="markdownTableBodyLeft">Mapping for 5 digit </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55*  </td></tr>
</table>
<p>*0x55 is recommended, but any byte is acceptable</p>
<h2><a class="anchor" id="autotoc_md79"></a>
CONFIGURE_CHANNEL_MODE_3:</h2>
<p>Set TM1637 Brightness and Leading Zero Suppression</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">BYTE 0 </th><th class="markdownTableHeadLeft">BYTE 1 </th><th class="markdownTableHeadLeft">BYTE 2 </th><th class="markdownTableHeadLeft">BYTE 3 </th><th class="markdownTableHeadLeft">BYTE 4 </th><th class="markdownTableHeadLeft">BYTE 5 </th><th class="markdownTableHeadLeft">BYTE 6 </th><th class="markdownTableHeadLeft">BYTE 7  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0xC3 </td><td class="markdownTableBodyLeft">Pin To Set (TO TM1637 Clock) </td><td class="markdownTableBodyLeft">0x0A (TM1637 ) </td><td class="markdownTableBodyLeft">Brightness (0-7) or 0x55 for unchanged </td><td class="markdownTableBodyLeft">Leading Zero Supression (0,1, or 0x55 for unchanged) </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55*  </td></tr>
</table>
<p>*0x55 is recommended, but any byte is acceptable</p>
<p>Response:</p>
<p>Command is echoed back.</p>
<p>Examples:</p>
<p>Set pin 19 TM1637 Brightness to level 3, leading zero supression</p>
<blockquote class="doxtable">
<p><code>0xC3 0x13 0x0A 0x03 0x01 0x55 0x55 0x55</code> </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md80"></a>
CONFIGURE_CHANNEL_MODE_4:</h2>
<p>Set output values for TM1637. 0xC4 and 0xC5 are used to set 6 output bytes when in the Char array (2), Raw Segment (3), and animation (4) modes. <br  />
</p>
<p>For Char array, ASCII characters are loaded into output values 0-5. These are translated within the pin mode to Seven Segment displays. Bytes above ASCII range (0x7F) in char mode are anded with 0x7F and transferred as is, allowing raw display in addition to characters.</p>
<p>In Raw Segment Mode the 8 bit data (7 segments (Seg A in LSB) and decimal point (MSB)) are transferred directly to the display.</p>
<p>In animation mode output values specify a 16 bit index into the User Memory buffer where a series of 6 byte Raw Segment arrays are stored, a 16 bit delay time between arrays, and an 8 bit count of the number of arrays to display. The final output value byte is used internally by the firmware and should be set to 0.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">BYTE 0 </th><th class="markdownTableHeadLeft">BYTE 1 </th><th class="markdownTableHeadLeft">BYTE 2 </th><th class="markdownTableHeadLeft">BYTE 3 </th><th class="markdownTableHeadLeft">BYTE 4 </th><th class="markdownTableHeadLeft">BYTE 5 </th><th class="markdownTableHeadLeft">BYTE 6 </th><th class="markdownTableHeadLeft">BYTE 7  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0xC4 </td><td class="markdownTableBodyLeft">Pin To Set (TO TM1637 Clock) </td><td class="markdownTableBodyLeft">0x0A (TM1637 ) </td><td class="markdownTableBodyLeft">OutputValue[0] </td><td class="markdownTableBodyLeft">OutputValue[1] </td><td class="markdownTableBodyLeft">OutputValue[2] </td><td class="markdownTableBodyLeft">OutputValue[3] </td><td class="markdownTableBodyLeft">OutputValue[4]  </td></tr>
</table>
<p>Response:</p>
<p>Command is echoed back.</p>
<p>Examples:</p>
<p>Display "Hello" on the display:</p>
<p>Initialize the display in character array mode (mode 2) (assume pin 19 clk and 18 dio as above), brightness 5. The source pin value in the 0xC0 command isn't used in this mode so we'll set it to 0x55.</p>
<blockquote class="doxtable">
<p><code>0xC0 0x13 0x0A 0x12 0x02 0x02 0x55 0x05</code> </p>
</blockquote>
<p>At this point0xC1 and 0xC2 commands would be sent if necessary to define the order in which the display's digits are ordered.</p>
<p>Send the "Hello " to the output:</p>
<blockquote class="doxtable">
<p><code>0xC4 0x13 0x0A</code> '<code>H</code>' '<code>E</code>' '<code>L</code>' '<code>L</code>' '<code>O</code>' <br  />
 </p>
</blockquote>
<blockquote class="doxtable">
<p><code>0xC5 0x13 0x0A</code> ' ' <code>0x55 0x55 0x55 0x55</code> </p>
</blockquote>
<p>Display a set of 12 raw arrays of segment data on the display with 1000ms delays in between. Data is stored in the user buffer at index 0x180 .</p>
<p>Start by sending the array of data to the user buffer starting at index 0x180 using the 0x84 WRITE USER BUFFER and 0x85 WRITE USER BUFFER CONTINUE COMMANDS</p>
<p>Initialize the display in character Animation mode (mode 4) (assume pin 19 clk and 18 dio as above), brightness 5. The source pin value in the 0xC0 command isn't used in this mode so we'll set it to 0x55.</p>
<blockquote class="doxtable">
<p><code>0xC0 0x13 0x0A 0x12 0x04 0x02 0x55 0x05</code> </p>
</blockquote>
<p>At this point 0xC1 and 0xC2 commands would send the important data - Index (0x180) in Little Endian format, delay (0x1E8) in little endian format, and frame count (0x0C)</p>
<p>and set the final byte to 0 with the 0xC5 command</p>
<p>Send the animation setup to the output array:</p>
<blockquote class="doxtable">
<p><code>0xC4 0x13 0x0A 0x80 0x01 0xE8 0x03 0xC</code> </p>
</blockquote>
<blockquote class="doxtable">
<p><code>0xC5 0x13 0x0A 0x00 0x55 0x55 0x55 0x55</code> </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md81"></a>
CONFIGURE_CHANNEL_MODE_6:</h2>
<p>Set TM1637 Decimal Points</p>
<p>The bottom 6 LSB are used as decimal points for digits 0-5 (before location translation)</p>
<p>Note that the way TM1637 displays are wired varies a lot from display to display, so this command may not work as expected. Consult the TM1637 and LED module datasheets.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">BYTE 0 </th><th class="markdownTableHeadLeft">BYTE 1 </th><th class="markdownTableHeadLeft">BYTE 2 </th><th class="markdownTableHeadLeft">BYTE 3 </th><th class="markdownTableHeadLeft">BYTE 4 </th><th class="markdownTableHeadLeft">BYTE 5 </th><th class="markdownTableHeadLeft">BYTE 6 </th><th class="markdownTableHeadLeft">BYTE 7  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0xC6 </td><td class="markdownTableBodyLeft">Pin To Set (TO TM1637 Clock) </td><td class="markdownTableBodyLeft">0x0A (TM1637 ) </td><td class="markdownTableBodyLeft">Decimal Point Bitmap </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55*  </td></tr>
</table>
<p>*0x55 is recommended, but any byte is acceptable</p>
<p>Response:</p>
<p>Command is echoed back.</p>
<p>Examples:</p>
<p>Set pin 19 TM1637 Decimal Point third digit decimal on</p>
<blockquote class="doxtable">
<p><code>0xC6 0x13 0x0A 0x04 0x55 0x55 0x55 0x55</code> </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md82"></a>
CONFIGURE_CHANNEL_MODE_7:</h2>
<p>Set TM1637 Digit Blink</p>
<p>The bottom 6 LSB are used as indicators that the digits indicated as 1's should blink</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">BYTE 0 </th><th class="markdownTableHeadLeft">BYTE 1 </th><th class="markdownTableHeadLeft">BYTE 2 </th><th class="markdownTableHeadLeft">BYTE 3 </th><th class="markdownTableHeadLeft">BYTE 4 </th><th class="markdownTableHeadLeft">BYTE 5 </th><th class="markdownTableHeadLeft">BYTE 6 </th><th class="markdownTableHeadLeft">BYTE 7  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0xC7 </td><td class="markdownTableBodyLeft">Pin To Set (TO TM1637 Clock) </td><td class="markdownTableBodyLeft">0x0A (TM1637 ) </td><td class="markdownTableBodyLeft">Blink Bitmap </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55*  </td></tr>
</table>
<p>*0x55 is recommended, but any byte is acceptable</p>
<p>Response:</p>
<p>Command is echoed back.</p>
<p>Examples:</p>
<p>Set pin 19 Blink 2nd and 3rd digit</p>
<blockquote class="doxtable">
<p><code>0xC7 0x13 0x0A 0x06 0x55 0x55 0x55 0x55</code> </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md83"></a>
CONFIGURE_CHANNEL_MODE_8:</h2>
<p>Write 1 byte to string mode.</p>
<p>Moves 1 byte into rightmost digit, and shifts all other digits 1 leftward. Used for compatibility with Arduino Print::write function.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">BYTE 0 </th><th class="markdownTableHeadLeft">BYTE 1 </th><th class="markdownTableHeadLeft">BYTE 2 </th><th class="markdownTableHeadLeft">BYTE 3 </th><th class="markdownTableHeadLeft">BYTE 4 </th><th class="markdownTableHeadLeft">BYTE 5 </th><th class="markdownTableHeadLeft">BYTE 6 </th><th class="markdownTableHeadLeft">BYTE 7  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0xC8 </td><td class="markdownTableBodyLeft">Pin To Set (TO TM1637 Clock) </td><td class="markdownTableBodyLeft">0x0A (TM1637 ) </td><td class="markdownTableBodyLeft">Byte to Write </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55* </td><td class="markdownTableBodyLeft">Unused/0x55*  </td></tr>
</table>
<p>*0x55 is recommended, but any byte is acceptable</p>
<p>Response:</p>
<p>Command is echoed back.</p>
<p>Examples:</p>
<p>Write an ascii 7 to TM1637 on pin 19.\</p>
<blockquote class="doxtable">
<p><code>0xC8 0x13 0x0A 0x37 0x55 0x55 0x55 0x55</code> </p>
</blockquote>

</div>
</div>
<a id="a6ab2421e29e8e4822403da00786be340"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ab2421e29e8e4822403da00786be340">&#9670;&nbsp;</a></span>tm1637_hwinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm1637_hwinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1092723aeececca6a22760db8a84b554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1092723aeececca6a22760db8a84b554">&#9670;&nbsp;</a></span>tm1637ClockByte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm1637ClockByte </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aea8608df9859e2d3e6c6340ae8923e01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea8608df9859e2d3e6c6340ae8923e01">&#9670;&nbsp;</a></span>tm1637SendDisplayControlCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm1637SendDisplayControlCommand </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acd70df2db09275c8ec0519ac7bbe632c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd70df2db09275c8ec0519ac7bbe632c">&#9670;&nbsp;</a></span>tm1637SendInitialAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t tm1637SendInitialAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a363789768c0ff185c0d791f0f7b49556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a363789768c0ff185c0d791f0f7b49556">&#9670;&nbsp;</a></span>tm1637Start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm1637Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a64e8449ecf922ae671e48939edf1de6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e8449ecf922ae671e48939edf1de6d">&#9670;&nbsp;</a></span>tm1637Stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm1637Stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a57e2b72c59a8c0d24fa11c2189db7870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57e2b72c59a8c0d24fa11c2189db7870">&#9670;&nbsp;</a></span>tm1637UpdateRender()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm1637UpdateRender </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a TM1637 bitmap in the displayArray. </p>
<p>This function renders a number or string into an array of LED segments or copies segements from the outputBuffer or User Buffer area based on the mode. <br  />
</p>
<p>The decimal point is then ORed in if required.</p>
<p>The rendered array is then rearranged to the proper order in the displayArray to correspond to the way that the TM1637 GRID lines are wired to the digit common anode lines (The leftmost digit doesn't always go to grid 1, depending on the display PCB layout). </p>

</div>
</div>
<a id="abf85cb9b831ee34d4f1aef9f1053f096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf85cb9b831ee34d4f1aef9f1053f096">&#9670;&nbsp;</a></span>updateTM1637()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateTM1637 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update the TM1637 pin state machine </p>
<p>This state machine is used to update the TM1637 display.</p>
<p>It progresses through the following states after initialization:</p>
<p>Setup: The segments to be displayed are rendered and put in digit order by <a class="el" href="_t_m1637_8c.html#a57e2b72c59a8c0d24fa11c2189db7870" title="Create a TM1637 bitmap in the displayArray.">tm1637UpdateRender()</a>. The displayArray is then compared with lastDisplay to see if anything has changed since the display is last written. If not, then the update gets skipped to save Serial Wombat chip CPU cycles.</p>
<p>If an update is required, then the MEMORY WRITE TM1637 command is sent followed by the Initial address. A digit by digit comparison from position 0 to 5 is then performed to determine if one or more digits can be skipped due to being identical to the last write, and the TM1637 address is set accordingly.</p>
<p>Data bytes from the first changed location to the last are clocked out.</p>
<p>If the brightness has changed, then the brightness command is clocked out.</p>
<p>The system then stays in idle mode for a number of calls. 20 for decimal, hex, string, and raw modes, and a user-defined period for animation. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab9442e692b4150d2bf3edf357342de9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9442e692b4150d2bf3edf357342de9b">&#9670;&nbsp;</a></span>debugTM1637</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_t_m1637_8c.html#aa4d8d765c34cc75b16017c98a5be587e">tm1637_t</a>* debugTM1637</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1a66b328826a6d93dc39b95fa5ab7cfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a66b328826a6d93dc39b95fa5ab7cfa">&#9670;&nbsp;</a></span>seven_seg_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t seven_seg_table[]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
